<div class="container table-responsive">
  <div class="row">
    <div class="col">
      <h1>Employees</h1>
    </div>
    <div class="col text-right">
      <% if true %>
      <% end %>
      <%= link_to 'Upload Employees', new_upload_employees_path, { class: 'btn btn-primary', remote: true, 'data-toggle': :modal, 'data-target': '#upload' } %>
      <%= link_to 'New Employee', new_employee_path, class: 'btn btn-primary' %>
    </div>
  </div>
  <table class="table table-hover table-sm">
    <thead class="thead-dark">
    <tr>
      <th>Identifier</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Company Name</th>
      <th>Clients</th>
      <th colspan="3"></th>
    </tr>
    </thead>

    <tbody>
    <% @employees.each do |employee| %>
      <tr>
        <td><%= employee.identifier %></td>
        <td><%= employee.first_name %></td>
        <td><%= employee.last_name %></td>
        <td><%= employee.company.name %></td>
        <td><%= link_to employee.client_ids.count, clients_path(employee_id: employee) %></td>
        <td><%= link_to 'Show', employee %></td>
        <td><%= link_to 'Edit', edit_employee_path(employee) %></td>
        <td><%= link_to 'Destroy', employee, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>

<div id="upload" class="modal hide fade" role="dialog" aria-labelledby="uploadLabel" aria-hidden="true"></div>